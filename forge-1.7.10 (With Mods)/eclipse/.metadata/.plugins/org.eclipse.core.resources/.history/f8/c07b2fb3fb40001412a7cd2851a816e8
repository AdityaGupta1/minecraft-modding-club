package org.forge.plugins;

import net.minecraft.block.Block;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.ChatComponentText;
import net.minecraft.util.EnumChatFormatting;
import net.minecraftforge.event.entity.player.PlayerInteractEvent;
import cpw.mods.fml.common.eventhandler.SubscribeEvent;

public class MachineGun {
	
	@SubscribeEvent
	public void blockPlace(PlayerInteractEvent event) {
		if (event.action != PlayerInteractEvent.Action.RIGHT_CLICK_BLOCK) {
			return;
		}
		try {
			Block.getBlockFromItem(event.entityPlayer.getItemInUse().getItem());
		} catch (NullPointerException exception) {
			return;
		}
		money.put(event.entityPlayer.getGameProfile().getName(),
				money.get(event.entityPlayer.getGameProfile().getName())
						+ moneyToReward);

		event.entityPlayer.addChatMessage(new ChatComponentText(
				EnumChatFormatting.GOLD
						+ "You now have "
						+ EnumChatFormatting.GREEN
						+ "$"
						+ String.format("%.2f", money
								.get((((EntityPlayer) event.entity)
										.getDisplayName())))));
	}

}
