package org.forge.plugins;

import net.minecraft.block.Block;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.entity.projectile.EntityArrow;
import net.minecraft.init.Items;
import net.minecraft.util.ChatComponentText;
import net.minecraft.util.EnumChatFormatting;
import net.minecraftforge.event.entity.player.PlayerInteractEvent;
import cpw.mods.fml.common.eventhandler.SubscribeEvent;

public class MachineGun {
	
	@SubscribeEvent
	public void shootArrow(PlayerInteractEvent event) {
		if (event.action != PlayerInteractEvent.Action.RIGHT_CLICK_BLOCK && event.action != PlayerInteractEvent.Action.RIGHT_CLICK_AIR) {
			return;
		}
		if (event.entityPlayer.getItemInUse().getItem() != Items.diamond_horse_armor) {
			return;
		}
		
		EntityArrow arrow = new EntityArrow(event.world);
		EntityPlayer player = event.entityPlayer;
		
		arrow.setLocationAndAngles(player.posX, player.posY, player.posZ, player.cameraYaw, player.cameraPitch);
		event.entityPlayer.worldObj.spawnEntityInWorld(arrow);
	}
}
